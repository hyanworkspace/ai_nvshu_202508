<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nüshu Character Created</title>
    <link rel="icon" type="image/png" href="{{ url_for('static', filename='images/favicon.png') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/globals.css') }}">
    <!-- <link rel="stylesheet" href="{{ url_for('static', filename='css/result.css') }}"> -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="{{ url_for('static', filename='js/gsap.min.js') }}"></script>
</head>

<body class="bg-black min-h-screen" data-component="page-body">
    <style>
        /* 防止页面加载时的闪烁 */
        [data-component="main-container"] {
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.3s ease, transform 0.3s ease;
        }

        [data-component="char-overlay"] {
            display: flex;
            justify-content: center;
            align-items: center;
            width: 100%;
        }
        
        [data-component="background"] {
            opacity: 0;
            transition: opacity 0.8s ease;
        }
        
        /* 确保页面在JavaScript加载前不显示内容 */
        .js-loading [data-component="main-container"] {
            visibility: hidden;
        }
        
        /* 平滑的按钮交互 */
        [data-component="save-button"]:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(255, 253, 233, 0.3);
        }
        
        /* 输入框焦点效果 */
        [data-component="name-input"]:focus {
            transform: scale(1.02);
            transition: transform 0.2s ease;
        }
        
        /* 视频容器的呼吸效果 */
        [data-component="video-circle"] video {
            transition: all 0.3s ease;
        }
        
        /* 字符图片的微妙动画 */
        [data-component="char-image"] {
            transition: all 0.3s ease;
            filter: drop-shadow(0 0 10px rgba(255, 253, 233, 0.3));
            mix-blend-mode: difference;
        }

        [data-component="char-image"]:hover {
            transform: scale(1.05);
            filter: drop-shadow(0 0 15px rgba(255, 253, 233, 0.5));
        }

        /* 字典卡片风格 */
        .dictionary-card {
            position: relative;
            overflow: hidden;
            transition: all 0.35s cubic-bezier(0.4, 0, 0.2, 1);
            border: 1px solid rgba(255, 251, 233, 0.18);
            background: rgba(255, 251, 233, 0.08);
            backdrop-filter: blur(18px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.35);
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .dictionary-card::before {
            content: "";
            position: absolute;
            inset: 0;
            background: linear-gradient(135deg, rgba(255, 253, 233, 0.18), transparent 65%);
            opacity: 0;
            transition: opacity 0.4s ease;
        }

        .dictionary-card:hover {
            transform: translateY(-6px) scale(1.015);
            border-color: rgba(255, 251, 233, 0.4);
            box-shadow: 0 24px 54px rgba(0, 0, 0, 0.45);
        }

        .dictionary-card:hover::before {
            opacity: 1;
        }

        .card-translation,
        .card-dimensions {
            position: relative;
            z-index: 1;
            transition: all 0.3s ease;
        }

        .dictionary-card:hover .card-translation {
            color: rgba(255, 253, 233, 0.95);
            text-shadow: 0 0 12px rgba(255, 253, 233, 0.35);
        }

        .dictionary-card:hover .card-dimensions {
            opacity: 1;
        }

        .card-image-wrapper {
            width: 100%;
            padding: 1.75rem 1.5rem 1rem;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
        }

        .card-image-wrapper::after {
            content: "";
            position: absolute;
            inset: 0;
            background: radial-gradient(circle at center, rgba(255, 253, 233, 0.2), transparent 70%);
            opacity: 0.4;
            pointer-events: none;
        }

        /* 维度显示的微妙效果 */
        [data-component="dimensions-display"] {
            transition: opacity 0.3s ease;
        }
        
        [data-component="dimensions-display"]:hover {
            opacity: 1 !important;
        }
    </style>
    <!-- Background image container -->
    <div class="absolute inset-0 w-full h-full -z-50" data-component="background">
        <img src="{{ url_for('static', filename='images/bg 2.png') }}" alt="Background"
            class="w-full h-full object-cover opacity-70">
    </div>
    <div class="container mx-auto px-4 py-12 min-h-screen flex flex-col lg:flex-row items-center justify-center gap-32" data-component="main-container">
        <!-- 左边区域 -->
        <div class="w-full lg:w-auto flex flex-col items-center gap-6" data-component="left-panel">
            <!-- 视频和字符的容器 -->
            <div class="relative flex flex-col items-center isolate pb-32 w-full" data-component="media-container">
                <div class="relative flex items-center justify-center w-full min-h-[24rem]">
                    <!-- 视频圆形容器-底部 -->
                    <div class="absolute w-72 h-72 z-10 grayscale invert rounded-full mask-radial-fading radial-fade" data-component="video-circle">
                        {% if video_url %}
                        <video class="mask-image-radial-fading" src="{{ video_url }}" alt="Generated video" class="w-full h-full object-cover" data-component="video-element"
                             muted playsinline autoplay>
                        </video>
                        {% else %}
                        <p>No video available</p>
                        {% endif %}
                    </div>

                    <!-- 女书字符中间层 -->
                    <div class="relative z-20" data-component="char-overlay">
                        <div class="dictionary-card rounded-2xl text-[#FFFDE9] w-[min(340px,80vw)]" data-component="char-meta">
                            <div class="card-image-wrapper">
                                <img src="{{ char_img_path }}" alt="Generated Nüshu Character"
                                    class="w-[82%] h-auto object-contain mix-blend-difference" data-component="char-image">
                            </div>
                            <div class="px-6 pb-6 flex flex-col items-center text-center gap-3">
                                <p class="card-translation text-lg leading-relaxed tracking-wide" data-component="char-translate">"{{ char_translate }}"</p>
                                <div class="card-dimensions text-[0.68rem] uppercase tracking-[0.35em]">3D Dimensions</div>
                                <div class="card-dimensions text-sm" data-component="dimensions-display">
                                    {% if char_3dim %}
                                    <p data-component="dimensions-text">{{ char_3dim[0] }}, {{ char_3dim[1] }}, {{ char_3dim[2] }}</p>
                                    {% else %}
                                    <p>No dimensions data available</p>
                                    {% endif %}
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Right side - Text content -->
        <div class="w-full lg:w-auto max-w-xl text-[#FFFDE9]" data-component="right-panel">
            <div class="space-y-8" data-component="content-wrapper">
                <h1 class="text-4xl font-semibold mb-6" data-component="congratulations-title">Congratulations!</h1>
                <p class="text-2xl mb-6" data-component="success-message">You've created a new AI<br>Nvshu character :)</p>
                <div class="space-y-4" data-component="name-input-section">
                    <p class="text-2xl" data-component="name-prompt">Could you tell me your name?</p>
                    <div class="flex items-center space-x-16">
                        <input type="text" id="user-name" placeholder="Enter your name" data-component="name-input"
                            class="max-w-xs bg-transparent border-b-4 border-[#FFFDE9] border-opacity-50 text-[#FFFDE9] placeholder-[#FFFDE9] placeholder-opacity-50 focus:outline-none focus:border-opacity-100 px-2 py-1">
                        <button id="save-btn" data-component="save-button"
                            class="inline-flex items-center justify-center px-6 py-1 border-2 border-dashed border-[rgba(255,251,233,0.8)] bg-[rgba(255,251,233,0.4)] text-[rgb(255,251,233)] font-medium text-base cursor-pointer transition-all duration-300 hover:bg-[rgba(255,251,233,0.6)] hover:border-[rgba(255,251,233,1)] hover:-translate-y-1 hover:shadow-lg focus:outline-none focus:ring-4 focus:ring-[rgba(255,251,233,0.5)] disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none">
                            Save
                        </button>
                    </div>


                </div>
            </div>
        </div>

    </div>

    <script src="{{ url_for('static', filename='js/result.js') }}"></script>
</body>

</html>
