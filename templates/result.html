<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nüshu Character Created</title>
    <link rel="icon" type="image/png" href="{{ url_for('static', filename='images/favicon.png') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/globals.css') }}">
    <!-- <link rel="stylesheet" href="{{ url_for('static', filename='css/result.css') }}"> -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="{{ url_for('static', filename='js/gsap.min.js') }}"></script>
</head>

<body class="bg-black min-h-screen" data-component="page-body">
    <style>
        /* 防止页面加载时的闪烁 */
        [data-component="main-container"] {
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.3s ease, transform 0.3s ease;
        }
        
        [data-component="background"] {
            opacity: 0;
            transition: opacity 0.8s ease;
        }
        
        /* 确保页面在JavaScript加载前不显示内容 */
        .js-loading [data-component="main-container"] {
            visibility: hidden;
        }
        
        /* 平滑的按钮交互 */
        [data-component="save-button"]:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(255, 253, 233, 0.3);
        }
        
        /* 输入框焦点效果 */
        [data-component="name-input"]:focus {
            transform: scale(1.02);
            transition: transform 0.2s ease;
        }
        
        /* 视频容器的呼吸效果 */
        [data-component="video-circle"] video {
            transition: all 0.3s ease;
        }
        
        /* 字符图片的微妙动画 */
        [data-component="char-image"] {
            transition: all 0.3s ease;
            filter: drop-shadow(0 0 10px rgba(255, 253, 233, 0.3));
        }
        
        [data-component="char-image"]:hover {
            transform: scale(1.05);
            filter: drop-shadow(0 0 15px rgba(255, 253, 233, 0.5));
        }
        
        /* 维度显示的微妙效果 */
        [data-component="dimensions-display"] {
            transition: opacity 0.3s ease;
        }
        
        [data-component="dimensions-display"]:hover {
            opacity: 1 !important;
        }
    </style>
    <!-- Background image container -->
    <div class="absolute inset-0 w-full h-full -z-50" data-component="background">
        <img src="{{ url_for('static', filename='images/bg 2.png') }}" alt="Background"
            class="w-full h-full object-cover opacity-70">
    </div>
    <div class="container mx-auto px-4 py-8 flex flex-wrap items-center justify-center gap-4 h-screen" data-component="main-container">
        <!-- 左边区域 -->
        <div class="flex-1 flex flex-col items-center gap-4" data-component="left-panel">
            <!-- 视频和字符的容器 -->
            <div class="relative flex flex-col items-center isolate" data-component="media-container">
                <!-- 视频圆形容器-底部 -->
                <div class="absolute w-72 h-72 z-10 grayscale invert rounded-full mask-radial-fading radial-fade" data-component="video-circle">
                    {% if video_url %}
                    <video class="mask-image-radial-fading" src="{{ video_url }}" alt="Generated video" class="w-full h-full object-cover" data-component="video-element"
                         muted playsinline autoplay>
                    </video>
                    {% else %}
                    <p>No video available</p>
                    {% endif %}
                </div>

                <!-- 女书字符中间层 -->
                <div class="absolute flex items-center justify-center" style="top: -70px; z-index: 15;" data-component="char-overlay">
                    <img src="{{ char_img_path }}" alt="Generated Nüshu Character"
                        class="w-[90%] h-[90%] object-contain mix-blend-difference justify-center" data-component="char-image">
                </div>

                <!-- TODO 要修改/美化的 -->
                <p data-component="char-translate">"{{ char_translate }}"</p>

                <!-- 顶部圆形 -->
                <div class="absolute w-72 h-72 z-20 inset-0 rounded-full radial-fade mix-blend-difference" data-component="top-overlay"></div>

                <!-- 占位div确保容器高度 -->
                <div class="w-72 h-72 invisible" data-component="spacer"></div>
            </div>

            <!-- 显示char_3dim -->
            <div class="pt-20 text-center text-[#FFFDE9] text-sm mt-4 opacity-50" data-component="dimensions-display">
                {% if char_3dim %}
                <p data-component="dimensions-text">{{ char_3dim[0] }}, {{ char_3dim[1] }}, {{ char_3dim[2] }}</p>
                {% else %}
                <p>No dimensions data available</p>
                {% endif %}
                <h3 data-component="dimensions-title">3D Dimensions</h3>
            </div>
        </div>

        <!-- Right side - Text content -->
        <div class="flex-1 text-[#FFFDE9]" data-component="right-panel">
            <div class="space-y-8" data-component="content-wrapper">
                <h1 class="text-4xl font-semibold mb-6" data-component="congratulations-title">Congratulations!</h1>
                <p class="text-2xl mb-6" data-component="success-message">You've created a new AI<br>Nvshu character :)</p>
                <div class="space-y-4" data-component="name-input-section">
                    <p class="text-2xl" data-component="name-prompt">Could you tell me your name?</p>
                    <input type="text" id="user-name" placeholder="Enter your name" data-component="name-input"
                        class="bg-transparent border-b-2 border-[#FFFDE9] border-opacity-50 text-[#FFFDE9] placeholder-[#FFFDE9] placeholder-opacity-50 focus:outline-none focus:border-opacity-100 px-2 py-1">
                    <button id="save-btn" data-component="save-button"
                        class="bg-[#FFFDE9] text-black px-4 py-2 rounded transition duration-200 hover:bg-[#fffde9cc]">
                        Save
                    </button>


                </div>
            </div>
        </div>

    </div>

    <script src="{{ url_for('static', filename='js/result.js') }}"></script>
</body>

</html>
